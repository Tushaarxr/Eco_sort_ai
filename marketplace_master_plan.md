# EcoSort AI - Marketplace Master Plan

> **Version**: 2.0  
> **Target Market**: India  
> **Last Updated**: January 2026

---

## Executive Summary

Build a **comprehensive e-waste platform** with THREE disposal options:

| Option | Description | For Users Who Want |
|--------|-------------|-------------------|
| ğŸ›’ **Sell to Vendors** | Marketplace connecting users with verified junk buyers | Cash for their e-waste |
| ğŸ”„ **Exchange Programs** | Aggregated trade-in offers from brands & retailers | Discounts on new products |
| â™»ï¸ **Responsible Disposal** | Certified recycling centers (existing feature) | Safe disposal of hazardous items |

**Key Differentiators**:
- AI-mediated vendor interactions to prevent scams
- Aggregated exchange offers from multiple sources
- One-stop solution for all e-waste disposal needs

---

## Three Disposal Paths

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER SCANS E-WASTE                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     "What do you want to do?"                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    ğŸ’° SELL          â”‚   ğŸ”„ EXCHANGE       â”‚    â™»ï¸ RECYCLE           â”‚
â”‚                     â”‚                     â”‚                         â”‚
â”‚  "Get cash from     â”‚  "Trade-in for      â”‚  "Dispose safely        â”‚
â”‚   local vendors"    â”‚   new products"     â”‚   at certified center"  â”‚
â”‚                     â”‚                     â”‚                         â”‚
â”‚  â†’ Marketplace      â”‚  â†’ Exchange Hub     â”‚  â†’ Recycling Centers    â”‚
â”‚    Listing Flow     â”‚    with Offers      â”‚    (existing)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## NEW FEATURE: Exchange Programs Hub

### What Is It?
A curated hub displaying **trade-in and exchange offers** from various brands and retailers where users can exchange their e-waste for:
- Discounts on new products
- Store credit
- Cashback
- Gift cards

### Why Add This?
1. Many users prefer upgrading over selling
2. Brands actively run exchange programs (Apple, Samsung, Amazon, Flipkart)
3. Better value for newer/working devices
4. Eco-friendly (devices get refurbished, not junked)

### Exchange Offer Sources

| Category | Sources | Offer Type |
|----------|---------|------------|
| **Smartphones** | Apple Trade In, Samsung Upgrade, OnePlus Exchange | Discount on new phone |
| **Laptops** | Dell Trade-in, HP Renew, Lenovo Exchange | Credit toward new laptop |
| **E-Commerce** | Amazon Exchange, Flipkart Exchange | Instant discount |
| **Electronics** | Croma Exchange, Vijay Sales | Store credit |
| **Banks/Cards** | HDFC SmartBuy, ICICI Offers | Cashback/EMI offers |

### How It Works

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. USER SCANS ITEM                                              â”‚
â”‚    AI identifies: "Samsung Galaxy S21, Good Condition"         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2. EXCHANGE HUB                                                 â”‚
â”‚    Shows relevant offers:                                       â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚    â”‚ ğŸ Apple Trade In          Up to â‚¹25,000 credit         â”‚  â”‚
â”‚    â”‚ ğŸ“¦ Amazon Exchange         â‚¹18,000 instant discount     â”‚  â”‚
â”‚    â”‚ ğŸ›’ Flipkart Exchange       â‚¹20,000 + 10% extra          â”‚  â”‚
â”‚    â”‚ ğŸ“± Samsung Upgrade         â‚¹22,000 + free accessories   â”‚  â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 3. USER SELECTS OFFER                                           â”‚
â”‚    Redirects to partner website/app                             â”‚
â”‚    (We track referral for analytics)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Exchange Hub Data Sources

**Phase 1 (MVP): Manual Curation**
- Admin-managed database of exchange offers
- Links to offer pages
- Updated weekly/monthly

**Phase 2 (Future): Web Scraping/APIs**
- Automated offer fetching
- Real-time prices
- API integrations where available

### Database: `exchange_offers` Table
```sql
CREATE TABLE exchange_offers (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  
  -- Partner Info
  partner_name TEXT NOT NULL,        -- "Apple", "Amazon", "Flipkart"
  partner_logo TEXT,                 -- Logo URL
  partner_type TEXT NOT NULL,        -- brand/ecommerce/retail
  
  -- Offer Details
  title TEXT NOT NULL,               -- "iPhone Trade In"
  description TEXT,
  offer_type TEXT NOT NULL,          -- discount/credit/cashback/gift_card
  
  -- Value
  min_value DECIMAL(10,2),           -- Minimum exchange value
  max_value DECIMAL(10,2),           -- Maximum exchange value
  value_text TEXT,                   -- "Up to â‚¹25,000"
  extra_benefits TEXT,               -- "10% extra on app"
  
  -- Applicability
  categories JSONB DEFAULT '[]',     -- ["smartphones", "laptops"]
  brands_accepted JSONB DEFAULT '[]', -- ["samsung", "apple", "oneplus"]
  conditions_accepted JSONB DEFAULT '[]', -- ["working", "minor_damage"]
  
  -- Link
  offer_url TEXT NOT NULL,           -- Deep link to offer page
  terms_url TEXT,                    -- T&C page
  
  -- Validity
  valid_from DATE,
  valid_until DATE,
  is_active BOOLEAN DEFAULT true,
  
  -- Tracking
  view_count INT DEFAULT 0,
  click_count INT DEFAULT 0,
  
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);
```

### Exchange Hub UI

**Main Screen**: Browseable list of offers
- Filter by: Category, Brand, Offer Type
- Sort by: Best Value, Newest, Popularity
- Search offers

**Offer Card Display**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Logo]  Partner Name              [Badge]   â”‚
â”‚                                             â”‚
â”‚ Offer Title                                 â”‚
â”‚ "Exchange your old phone"                   â”‚
â”‚                                             â”‚
â”‚ ğŸ’° Up to â‚¹25,000 credit                     â”‚
â”‚ ğŸ +10% extra via app                       â”‚
â”‚                                             â”‚
â”‚ âœ“ Smartphones  âœ“ Working/Minor damage       â”‚
â”‚                                             â”‚
â”‚ [View Offer â†’]                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**After Scan Integration**:
When user scans an item, show matching exchange offers alongside sell option:
```
Your Samsung Galaxy S21 (Good Condition)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’° Sell to Vendors                          â”‚
â”‚    Estimated: â‚¹12,000 - â‚¹15,000             â”‚
â”‚    [List for Sale]                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”„ Exchange Offers (3 available)            â”‚
â”‚    Best: Amazon - â‚¹18,000 instant           â”‚
â”‚    [View All Offers]                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â™»ï¸ Recycle Responsibly                      â”‚
â”‚    Find certified centers nearby            â”‚
â”‚    [Find Centers]                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Updated App Architecture

### Triple Flow Design

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          EcoSort AI App                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     USER FLOW       â”‚   EXCHANGE HUB      â”‚      VENDOR FLOW            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Scan e-waste      â”‚ â€¢ Browse offers     â”‚ â€¢ Register as vendor        â”‚
â”‚ â€¢ Browse repository â”‚ â€¢ Filter by type    â”‚ â€¢ Upload documents          â”‚
â”‚ â€¢ List items (sell) â”‚ â€¢ View offer detail â”‚ â€¢ Await verification        â”‚
â”‚ â€¢ View vendor       â”‚ â€¢ Redirect to       â”‚ â€¢ Browse user listings      â”‚
â”‚   interests         â”‚   partner site      â”‚ â€¢ Express interest          â”‚
â”‚ â€¢ Track sales       â”‚ â€¢ Track favorites   â”‚ â€¢ Complete pickups          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Updated Navigation

```
Bottom Tabs:
[Scan] [Exchange] [Marketplace] [Recycling] [Profile]
         â†‘ NEW!
```

---

## Updated Phased Development

### Phase 1: Foundation (Sprint 1-2)
**Goal**: Database + Basic UI structure

- [ ] Create Supabase tables (listings, vendors, transactions)
- [ ] Create `exchange_offers` table
- [ ] Set up RLS policies
- [ ] Add "Marketplace" tab to navigation
- [ ] Add "Exchange" tab to navigation
- [ ] Create empty state screens

### Phase 2: Exchange Hub MVP (Sprint 3-4)
**Goal**: Users can browse exchange offers

- [ ] Exchange Hub home screen
- [ ] Offer card component
- [ ] Offer detail screen
- [ ] Filter/search functionality
- [ ] Manual offer data entry (admin)
- [ ] Click tracking (analytics)

### Phase 3: User Listings (Sprint 5-6)
**Goal**: Users can list items for sale

- [ ] Create listing form
- [ ] Image upload (multi-image)
- [ ] Location picker
- [ ] AI price estimation integration
- [ ] My Listings screen
- [ ] Post-scan integration (sell/exchange options)

### Phase 4: Vendor Registration (Sprint 7-8)
**Goal**: Vendors can sign up and await verification

- [ ] Vendor auth flow
- [ ] Vendor registration form
- [ ] Document upload system
- [ ] Pending verification screen
- [ ] Basic admin panel

### Phase 5: Vendor Dashboard (Sprint 9-10)
**Goal**: Approved vendors can browse and show interest

- [ ] Vendor dashboard home
- [ ] Browse listings
- [ ] Show interest functionality
- [ ] My Interests screen

### Phase 6: Interest & Matching (Sprint 11-12)
**Goal**: AI-mediated interest flow

- [ ] Interest submission
- [ ] AI validation logic
- [ ] Accept/reject flow
- [ ] Contact reveal

### Phase 7: Transactions (Sprint 13-14)
**Goal**: Complete transaction flow

- [ ] Transaction creation
- [ ] Pickup scheduling
- [ ] Ratings & reviews

### Phase 8: Polish & Payment (Sprint 15-16)
**Goal**: Payment placeholder + UX polish

- [ ] Payment page (UI only)
- [ ] Notifications
- [ ] Analytics dashboard
- [ ] Bug fixes

---

## Updated Screen Inventory

### User App Screens
```
app/(main)/
â”œâ”€â”€ scan/                   # Existing scan feature
â”œâ”€â”€ repository/             # Existing e-waste guides
â”œâ”€â”€ recycling-centers/      # Existing centers
â”œâ”€â”€ profile/                # User profile
â”‚
â”œâ”€â”€ exchange/               # NEW - Exchange Hub
â”‚   â”œâ”€â”€ index.tsx           # Browse all offers
â”‚   â”œâ”€â”€ [offerId].tsx       # Offer detail + redirect
â”‚   â””â”€â”€ favorites.tsx       # Saved offers
â”‚
â””â”€â”€ marketplace/            # Sell to Vendors
    â”œâ”€â”€ index.tsx           # Browse listings / Home
    â”œâ”€â”€ create-listing.tsx  # Create/edit listing
    â”œâ”€â”€ [listingId].tsx     # Listing detail
    â”œâ”€â”€ my-listings.tsx     # User's listings
    â”œâ”€â”€ interests.tsx       # Incoming interests
    â””â”€â”€ transactions.tsx    # Transaction history
```

### Vendor App Screens
```
app/(vendor)/
â”œâ”€â”€ register.tsx         # Vendor registration
â”œâ”€â”€ pending.tsx          # Awaiting verification
â”œâ”€â”€ dashboard.tsx        # Vendor home
â”œâ”€â”€ browse.tsx           # Browse listings
â”œâ”€â”€ my-interests.tsx     # Interests shown
â””â”€â”€ transactions.tsx     # Vendor transactions
```

---

## Updated API/Service Functions

### `src/api/exchangeService.ts` (NEW)
```typescript
// Exchange Offers
getExchangeOffers(filters?) â†’ offers[]
getOfferById(id) â†’ offer
getOffersForCategory(category) â†’ offers[]
getOffersForItem(itemType, brand, condition) â†’ offers[]
trackOfferClick(offerId) â†’ void
saveOfferToFavorites(userId, offerId) â†’ void
getUserFavorites(userId) â†’ offers[]
```

### `src/api/marketplaceService.ts`
```typescript
// Listings
createListing(data) â†’ listing
getListings(filters) â†’ listings[]
getListingById(id) â†’ listing
updateListing(id, data) â†’ listing
deleteListing(id) â†’ void
getUserListings(userId) â†’ listings[]

// Vendors
registerVendor(data) â†’ vendor
getVendorProfile(vendorId) â†’ vendor
updateVendorProfile(vendorId, data) â†’ vendor
getVendorStatus(userId) â†’ status
uploadVendorDocument(vendorId, file) â†’ url

// Interests
showInterest(vendorId, listingId, data) â†’ interest
getListingInterests(listingId) â†’ interests[]
getVendorInterests(vendorId) â†’ interests[]
respondToInterest(interestId, action) â†’ interest

// Transactions
createTransaction(interestId) â†’ transaction
updateTransaction(transactionId, data) â†’ transaction
completeTransaction(transactionId) â†’ transaction
rateTransaction(transactionId, rating, review) â†’ void
```

---

## Key Decisions Summary

| Decision | Choice | Rationale |
|----------|--------|-----------|
| App Architecture | Triple flow (User/Exchange/Vendor) | Complete e-waste solution |
| Exchange Data | Manual curation (MVP) | Reliable, controlled quality |
| Exchange Model | Affiliate links/redirects | No payment handling needed |
| Vendor Communication | AI-mediated | Safety, spam prevention |
| Payment | Offline (MVP) | Reduces complexity |
| Verification | Document upload + Admin | Trust without complexity |
| Target | India only | Focus, INR, local partners |

---

## Revenue Potential (Future)

| Stream | Model |
|--------|-------|
| Exchange Referrals | Affiliate commission from partners |
| Vendor Subscriptions | Premium vendor features |
| Featured Listings | Sellers pay to boost visibility |
| Transaction Fee | Small % on completed sales |

---

## Next Steps

1. âœ… Review updated plan with Exchange feature
2. **Commit cleanup changes** to git
3. **Create new branch** for marketplace
4. **Start Phase 1**: Database tables
5. **Build Exchange Hub** (simpler, good first milestone)

---

## Reference Links

- [Supabase Dashboard](https://supabase.com/dashboard)
- [Clerk Dashboard](https://dashboard.clerk.com)
- [Apple Trade In](https://www.apple.com/in/trade-in/)
- [Amazon Exchange](https://www.amazon.in/b?node=15547979031)
- [Flipkart Exchange](https://www.flipkart.com/exchange)
